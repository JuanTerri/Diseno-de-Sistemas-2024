<!DOCTYPE html>
<html class="h-100" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Registrate</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="../../assets/images/favicon.png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link href="css/style.css" rel="stylesheet">
    
</head>

<body class="h-100">
    
    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="loader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" />
            </svg>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    



    <div class="login-form-bg h-100">
        <div class="container h-100">
            <div class="row justify-content-center h-100">
                <div class="col-xl-12">
                    <div class="form-input-content">
                        <div class="card login-form mb-0">
                            <div class="card-body pt-5">
                                <a class="text-center" href="index"> <h4>Bienvenido a AlimentAR</h4></a>

                                <div class="form-group">
                                    <label>Registrate como:</label>
                                    <div class="btn-group w-100" role="group">
                                        <button type="button" class="btn btn-outline-primary" style="width: 33%" id="persona-btn" onclick="showForm('persona-form')">Persona</button>
                                        <button type="button" class="btn btn-outline-primary" style="width: 33%" id="org-btn" onclick="showForm('org-form')">Organización</button>
                                        <button type="button" class="btn btn-outline-primary" style="width: 33%" id="tecnico-btn" onclick="showForm('tecnico-form')">Técnico</button>
                                    </div>
                                </div>

                                <form class="mt-5 mb-5 login-input" id="persona-form" action="/registrar-p" method="post" style="display: none;">
                                    <div class="d-flex">
                                        <!-- Primera Columna: Datos personales -->
                                        <div class="w-50 pe-3">
                                            <!-- Nombre y Apellido -->
                                            <div class="form-group d-flex gap-3">
                                                <input type="text" class="form-control" placeholder="Nombre" required name="nombre">
                                                <input type="text" class="form-control" placeholder="Apellido" style="margin-left:20px" name="apellido">
                                            </div>

                                            <!-- Selector de Sexo y Selector de Género -->
                                            <div class="form-group d-flex gap-3">
                                                <select class="form-control" required name="sexo">
                                                    <option value="" disabled selected>Sexo</option>
                                                    <option value="F">Femenino</option>
                                                    <option value="M">Masculino</option>
                                                    <option value="O">Otro</option>
                                                </select>
                                                <select class="form-control" required style="margin-left:20px" name="genero">
                                                    <option value="" disabled selected>Género</option>
                                                    <option value="F">Femenino</option>
                                                    <option value="M">Masculino</option>
                                                    <option value="NB">No binario</option>
                                                    <option value="O">Otro</option>
                                                </select>
                                            </div>

                                            <!-- Fecha de nacimiento -->
                                            <div class="form-group">
                                                <input type="date" class="form-control" placeholder="Fecha de Nacimiento" required  name="fecha">
                                            </div>

                                            <!-- Dirección -->
                                            <div class="form-group">
                                                <input type="text" class="form-control" placeholder="Dirección" required  name="direccion">
                                            </div>

                                            <!-- Tipo de Documento y Documento -->
                                            <div class="form-group d-flex gap-3">
                                                <select class="form-control" required name="tipoDocumento">
                                                    <option value="" disabled selected>Tipo de Documento</option>
                                                    <option value="DNI">DNI</option>
                                                    <option value="CUIT">CUIT</option>
                                                    <option value="CUIL">CUIL</option>
                                                    <option value="OTRO">Otro</option>
                                                </select>
                                                <input type="text" class="form-control" placeholder="Documento" required style="margin-left:20px"  name="documento">
                                            </div>
                                        </div>

                                        <!-- Línea divisora personalizada -->
                                        <div class="mx-3" style="border-left: 2px solid #eee; height: auto;"></div>

                                        <!-- Segunda Columna: Usuario y Contraseñas -->
                                        <div class="w-50 ps-3">
                                            <div class="form-group">
                                                <input type="text" class="form-control" placeholder="Usuario" required name="usuario">
                                            </div>
                                            <div class="form-group">
                                                <input type="password" class="form-control" placeholder="Contraseña" required  name="contra">
                                            </div>
                                            <div class="form-group">
                                                <input type="password" class="form-control" placeholder="Repetí tu contraseña" required name="repetirContra">
                                            </div>

                                            <!-- Medios de Contacto -->
                                            <div class="form-group">
                                                <label>Medios de Contacto</label>
                                                <div id="contact-fields" class="lista-medios"></div>
                                                <button type="button" class="btn btn-outline-primary btn-sm mt-2 w-100" id="add-contact-btn">
                                                    Agregar Medio de Contacto
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Botón de envío -->
                                    <div class="form-group mt-3">
                                        <button type="submit" class="btn login-form__btn submit w-100">Registrarse</button>
                                    </div>
                                </form>

                                <form class="mt-5 mb-5 login-input" id="org-form" action="/registrar-o" method="post" style="display: none;">
                                    <div class="d-flex">
                                        <!-- Primera Columna: Datos personales -->
                                        <div class="w-50 pe-3">
                                            <!-- Razon -->
                                            <div class="form-group">
                                                <input type="text" class="form-control" placeholder="Razón Social" required  name="razonSocial">
                                            </div>

                                            <!-- Rubro y Tipo de ONG -->
                                            <div class="form-group d-flex gap-3">
                                                <select class="form-control" required style="margin-right:20px" name="tipoJur">
                                                    <option value="" disabled selected>Tipo de organización</option>
                                                    <option value="ONG">ONG</option>
                                                    <option value="EMPRESA">Empresa</option>
                                                    <option value="INSTITUCION">Institución</option>
                                                    <option value="GUBERNAMENTAL">Gubernamental</option>
                                                </select>
                                                <input type="text" class="form-control" placeholder="Rubro" required  name="rubro">
                                            </div>


                                            <!-- Dirección -->
                                            <div class="form-group">
                                                <input type="text" class="form-control" placeholder="Dirección" required  name="direccion">
                                            </div>

                                            <!-- Tipo de Documento y Documento -->
                                            <div class="form-group d-flex gap-3">
                                                <select class="form-control" required name="tipoDocumento">
                                                    <option value="" disabled selected>Tipo de Documento</option>
                                                    <option value="DNI">DNI</option>
                                                    <option value="CUIT">CUIT</option>
                                                    <option value="CUIL">CUIL</option>
                                                    <option value="OTRO">Otro</option>
                                                </select>
                                                <input type="text" class="form-control" placeholder="Documento" required style="margin-left:20px"  name="documento">
                                            </div>
                                        </div>

                                        <!-- Línea divisora personalizada -->
                                        <div class="mx-3" style="border-left: 2px solid #eee; height: auto;"></div>

                                        <!-- Segunda Columna: Usuario y Contraseñas -->
                                        <div class="w-50 ps-3">
                                            <div class="form-group">
                                                <input type="text" class="form-control" placeholder="Usuario" required name="usuario">
                                            </div>
                                            <div class="form-group">
                                                <input type="password" class="form-control" placeholder="Contraseña" required  name="contra">
                                            </div>
                                            <div class="form-group">
                                                <input type="password" class="form-control" placeholder="Repetí tu contraseña" required name="repetirContra">
                                            </div>

                                            <!-- Medios de Contacto -->
                                            <div class="form-group">
                                                <label>Medios de Contacto</label>
                                                <div id="contact-fields-org" class="lista-medios"></div>
                                                <button type="button" class="btn btn-outline-primary btn-sm mt-2 w-100" id="add-contact-btn-org">
                                                    Agregar Medio de Contacto
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Botón de envío -->
                                    <div class="form-group mt-3">
                                        <button type="submit" class="btn login-form__btn submit w-100">Registrarse</button>
                                    </div>
                                </form>

                                <form class="mt-5 mb-5 login-input" id="tecnico-form" action="/registrar-t" method="post" style="display: none;">
                                    <div class="d-flex">
                                        <!-- Primera Columna: Datos personales -->
                                        <div class="w-40 pe-3">
                                            <!-- Nombre y Apellido -->
                                            <div class="form-group d-flex gap-3">
                                                <input type="text" class="form-control" placeholder="Nombre" required name="nombre">
                                                <input type="text" class="form-control" placeholder="Apellido" style="margin-left:20px" name="apellido">
                                            </div>

                                            <!-- Selector de Sexo y Selector de Género -->
                                            <div class="form-group d-flex gap-3">
                                                <select class="form-control" required name="sexo">
                                                    <option value="" disabled selected>Sexo</option>
                                                    <option value="F">Femenino</option>
                                                    <option value="M">Masculino</option>
                                                    <option value="O">Otro</option>
                                                </select>
                                                <select class="form-control" required style="margin-left:20px" name="genero">
                                                    <option value="" disabled selected>Género</option>
                                                    <option value="F">Femenino</option>
                                                    <option value="M">Masculino</option>
                                                    <option value="NB">No binario</option>
                                                    <option value="O">Otro</option>
                                                </select>
                                            </div>

                                            <!-- Fecha de nacimiento -->
                                            <div class="form-group">
                                                <input type="date" class="form-control" placeholder="Fecha de Nacimiento" required name="fecha">
                                            </div>

                                            <!-- Dirección -->
                                            <div class="form-group">
                                                <input type="text" class="form-control" placeholder="Dirección" required name="direccion">
                                            </div>

                                            <!-- Tipo de Documento y Documento -->
                                            <div class="form-group d-flex gap-3">
                                                <select class="form-control" required name="tipoDocumento">
                                                    <option value="" disabled selected>Tipo de Documento</option>
                                                    <option value="DNI">DNI</option>
                                                    <option value="CUIT">CUIT</option>
                                                    <option value="CUIL">CUIL</option>
                                                    <option value="OTRO">Otro</option>
                                                </select>
                                                <input type="text" class="form-control" placeholder="Documento" required style="margin-left:20px" name="documento">
                                            </div>
                                        </div>

                                        <!-- Línea divisora personalizada -->
                                        <div class="mx-3" style="border-left: 2px solid #eee; height: auto;"></div>

                                        <!-- Segunda Columna: Usuario y Contraseñas -->
                                        <div class="w-40 pe-3">
                                            <div class="form-group">
                                                <input type="text" class="form-control" placeholder="Usuario" required name="usuario">
                                            </div>
                                            <div class="form-group">
                                                <input type="password" class="form-control" placeholder="Contraseña" required name="contra">
                                            </div>
                                            <div class="form-group">
                                                <input type="password" class="form-control" placeholder="Repetí tu contraseña" required name="repetirContra">
                                            </div>

                                            <!-- Medios de Contacto -->
                                            <div class="form-group">
                                                <label>Medios de Contacto</label>
                                                <div id="contact-fields-tecnico" class="lista-medios"></div>
                                                <button type="button" class="btn btn-outline-primary btn-sm mt-2 w-100" id="add-contact-btn-tecnico">
                                                    Agregar Medio de Contacto
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Línea divisora personalizada -->
                                        <div class="mx-3" style="border-left: 2px solid #eee; height: auto;"></div>

                                        <!-- Tercera Columna: Área de Cobertura -->
                                        <div class="w-20 pe-3 lista-localidades">
                                            <div class="form-group">
                                                <label for="coverage-area">Área de Cobertura</label>
                                                <div id="coverage-list" class="form-check">
                                                    {{#each listadoLocalidades.localidades}}
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name={{this.nombre}} value="si" id={{this.nombre}}>
                                                            <label class="form-check-label" for={{this.nombre}}>{{this.titulo}}</label>
                                                        </div>
                                                    {{/each}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Botón de envío -->
                                    <div class="form-group mt-3">
                                        <button type="submit" class="btn login-form__btn submit w-100">Registrarse</button>
                                    </div>
                                </form>
                                <p class="mt-5 login-form__footer">Ya tenés una cuenta? <a href="page-login" class="text-primary">Iniciá sesión</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    

    <!--**********************************
        Scripts
    ***********************************-->
    <script src="plugins/common/common.min.js"></script>
    <script src="js/custom.min.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/gleek.js"></script>
    <script src="js/styleSwitcher.js"></script>

    <script>
        function showForm(formId) {
            // Hide all forms
            document.querySelectorAll('form').forEach(form => {
                form.style.display = 'none';
            });

            // Show the selected form
            document.getElementById(formId).style.display = 'block';

            // Clear selection from all buttons
            document.querySelectorAll('.btn-group .btn').forEach(button => {
                button.classList.remove('active');
            });

            // Mark the corresponding button as active
            document.querySelector(`button[onclick="showForm('${formId}')"]`).classList.add('active');
        }

        showForm('persona-form');
    </script>

    <script>
        const maxContacts = 4;
        const contactFieldsContainer = document.getElementById('contact-fields');
        const addContactButton = document.getElementById('add-contact-btn');
        let contactCount = 0;

        addContactButton.addEventListener('click', () => {
            if (contactCount < maxContacts) {
                const contactField = document.createElement('div');
                contactField.className = 'd-flex gap-3 mb-2';

                contactField.innerHTML = `
                    <select class="form-control" name="contact[${contactCount}][type]" required>
                        <option value="" disabled selected>Tipo</option>
                        <option value="email">Email</option>
                        <option value="telefono">Teléfono</option>
                        <option value="whatsapp">WhatsApp</option>
                    </select>
                    <input type="text" class="form-control" name="contact[${contactCount}][value]" placeholder="Ingrese el contacto" required style="margin-left:20px">
                    <button type="button" class="btn btn-danger btn-sm remove-contact-btn" style="width: 28px;height: 28px;margin-top: 7px;">X</button>
                `;

                contactFieldsContainer.appendChild(contactField);
                contactCount++;

                // Add event listener to remove button
                contactField.querySelector('.remove-contact-btn').addEventListener('click', () => {
                    contactField.remove();
                    updateContactNames();
                });
            } else {
                alert('Puedes agregar hasta 4 medios de contacto.');
            }
        });

        function updateContactNames() {
            const contactFields = contactFieldsContainer.children;
            contactCount = 0; // Reset counter
            Array.from(contactFields).forEach((contactField) => {
                const select = contactField.querySelector('select');
                const input = contactField.querySelector('input');
                select.name = `contact[${contactCount}][type]`;
                input.name = `contact[${contactCount}][value]`;
                contactCount++;
            });
        }
    </script>

    <script>
        const maxContacts_org = 4;
        const contactFieldsContainer_org = document.getElementById('contact-fields-org');
        const addContactButton_org = document.getElementById('add-contact-btn-org');
        let contactCount_org = 0;

        addContactButton_org.addEventListener('click', () => {
            if (contactCount_org < maxContacts_org) {
                const contactField = document.createElement('div');
                contactField.className = 'd-flex gap-3 mb-2';

                contactField.innerHTML = `
                    <select class="form-control" name="contact[${contactCount}][type]" required>
                        <option value="" disabled selected>Tipo</option>
                        <option value="email">Email</option>
                        <option value="telefono">Teléfono</option>
                        <option value="whatsapp">WhatsApp</option>
                    </select>
                    <input type="text" class="form-control" name="contact[${contactCount}][value]" placeholder="Ingrese el contacto" required style="margin-left:20px">
                    <button type="button" class="btn btn-danger btn-sm remove-contact-btn-org" style="width: 28px;height: 28px;margin-top: 7px;">X</button>
                `;

                contactFieldsContainer_org.appendChild(contactField);
                contactCount_org++;

                // Add event listener to remove button
                contactField.querySelector('.remove-contact-btn-org').addEventListener('click', () => {
                    contactField.remove();
                    updateContactNames_org();
                });
            } else {
                alert('Puedes agregar hasta 4 medios de contacto.');
            }
        });

        function updateContactNames_org() {
            const contactFields = contactFieldsContainer_org.children;
            contactCount_org = 0; // Reset counter
            Array.from(contactFields).forEach((contactField) => {
                const select = contactField.querySelector('select');
                const input = contactField.querySelector('input');
                select.name = `contact[${contactCount}][type]`;
                input.name = `contact[${contactCount}][value]`;
                contactCount_org++;
            });
        }
    </script>

    <script>
        const maxContacts_tecnico = 4;
        const contactFieldsContainer_tecnico = document.getElementById('contact-fields-tecnico');
        const addContactButton_tecnico = document.getElementById('add-contact-btn-tecnico');
        let contactCount_tecnico = 0;

        addContactButton_tecnico.addEventListener('click', () => {
            if (contactCount_tecnico < maxContacts_tecnico) {
                const contactField = document.createElement('div');
                contactField.className = 'd-flex gap-3 mb-2';

                contactField.innerHTML = `
                    <select class="form-control" name="contact[${contactCount}][type]" required>
                        <option value="" disabled selected>Tipo</option>
                        <option value="email">Email</option>
                        <option value="telefono">Teléfono</option>
                        <option value="whatsapp">WhatsApp</option>
                    </select>
                    <input type="text" class="form-control" name="contact[${contactCount}][value]" placeholder="Ingrese el contacto" required style="margin-left:20px">
                    <button type="button" class="btn btn-danger btn-sm remove-contact-btn-tecnico" style="width: 28px;height: 28px;margin-top: 7px;">X</button>
                `;

                contactFieldsContainer_tecnico.appendChild(contactField);
                contactCount_tecnico++;

                // Add event listener to remove button
                contactField.querySelector('.remove-contact-btn-tecnico').addEventListener('click', () => {
                    contactField.remove();
                    updateContactNames_tecnico();
                });
            } else {
                alert('Puedes agregar hasta 4 medios de contacto.');
            }
        });

        function updateContactNames_tecnico() {
            const contactFields = contactFieldsContainer_tecnico.children;
            contactCount_tecnico = 0; // Reset counter
            Array.from(contactFields).forEach((contactField) => {
                const select = contactField.querySelector('select');
                const input = contactField.querySelector('input');
                select.name = `contact[${contactCount}][type]`;
                input.name = `contact[${contactCount}][value]`;
                contactCount_tecnico++;
            });
        }
    </script>
</body>
</html>





